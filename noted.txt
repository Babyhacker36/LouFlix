const API_KEY = '5cd640db7a351fb891b792aab5d5ad11'; // Replace with your TMDb API key
const BASE_URL = 'https://api.themoviedb.org/3';



Card Modal

Poster Category  Video Director, Cast Tickets Reviews from other youtubes videos,, rotten tomatoe reviews
Streaming on , Tickets Purchase dvds

Page Streaming Guide

Home page

Jubotron

Movies Most Popular  By Date New to old  
Top Tv shows Most Popular  New to old



Top movies

Page Calender

 Page Now streaming
 Streaming guides with links to shows


 //working code ==================


 -------------------------


 
import React, { useRef, useEffect, useState } from 'react';
import { fetchNowPlayingMovies, fetchUpcomingMovies } from '../../Api/moviesApi';
import './MoviesSlider.css';

const MoviesSlider = () => {
  const [movies, setMovies] = useState([]);
  const [error, setError] = useState(null);
  const [loading, setLoading] = useState(true);
  const [itemsToShow, setItemsToShow] = useState(1); // Number of cards to show
  const sliderRef = useRef(null);

  // Fetch movies
  useEffect(() => {
    const getMovies = async () => {
      try {
        setLoading(true);
        const nowPlayingMovies = await fetchNowPlayingMovies(1);
        const upcomingMovies = await fetchUpcomingMovies(1);
        const mergedMovies = [
          ...nowPlayingMovies,
          ...upcomingMovies,
        ]
          .filter((movie, index, self) => self.findIndex((m) => m.id === movie.id) === index)
          .sort((a, b) => new Date(b.release_date) - new Date(a.release_date));
        setMovies(mergedMovies);
        setLoading(false);
      } catch (err) {
        setError('Failed to fetch movies. Please try again later.');
        setLoading(false);
      }
    };

    getMovies();
  }, []);

  // Update the number of visible items dynamically
  useEffect(() => {
    const updateItemsToShow = () => {
      const screenWidth = window.innerWidth;

      if (screenWidth <= 767) {
        setItemsToShow(1); // One card for smaller screens
      } else {
        const containerWidth = sliderRef.current?.offsetWidth || screenWidth;
        const cardWidth = 250; // Approximate width of each card
        const numberOfItems = Math.floor(containerWidth / cardWidth);
        setItemsToShow(numberOfItems > 0 ? numberOfItems : 1);
      }
    };

    updateItemsToShow();
    window.addEventListener('resize', updateItemsToShow);

    return () => {
      window.removeEventListener('resize', updateItemsToShow);
    };
  }, []);

  const scrollLeft = () => {
    const scrollAmount = sliderRef.current.offsetWidth / itemsToShow;
    sliderRef.current.scrollBy({
      left: -scrollAmount,
      behavior: 'smooth',
    });
  };

  const scrollRight = () => {
    const scrollAmount = sliderRef.current.offsetWidth / itemsToShow;
    sliderRef.current.scrollBy({
      left: scrollAmount,
      behavior: 'smooth',
    });
  };

  if (loading) {
    return <div className="loading">Loading movies...</div>;
  }

  if (error) {
    return <div className="error">{error}</div>;
  }

  if (movies.length === 0) {
    return <div className="no-movies">No movies available at the moment.</div>;
  }

  return (
    <div className="slider-container">
      <div className="slider-wrapper">
        <button className="arrow-btn left" onClick={scrollLeft}>
          &#9664;
        </button>
        <div className="movies-slider" ref={sliderRef}>
          {movies.map((movie) => (
            <div
              key={movie.id}
              className="movie-card"
              style={{
                flex: `0 0 ${100 / itemsToShow}%`, // Dynamic card width
                maxWidth: `${100 / itemsToShow}%`,
              }}
            >
              <img
                src={movie.poster_path ? `https://image.tmdb.org/t/p/w500${movie.poster_path}` : '/fallback-image.jpg'}
                alt={movie.title}
                className="movie-image"
              />
              <h2 className="movie-title">{movie.title}</h2>
              <p className="movie-release-date">{movie.release_date}</p>
              <p className="movie-score">Score: {movie.vote_average}</p>
            </div>
          ))}
        </div>
        <button className="arrow-btn right" onClick={scrollRight}>
          &#9654;
        </button>
      </div>
    </div>
  );
};

export default MoviesSlider;
